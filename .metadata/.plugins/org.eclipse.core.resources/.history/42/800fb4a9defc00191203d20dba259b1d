import java.awt.Color;
import java.awt.Graphics;
import java.util.Random;

public class Animation {
//	public static void main(String[] args) {
//		DrawingPanel window = new DrawingPanel(800,800);
//		window.setBackground(Color.black);
//		Graphics pen = window.getGraphics();
//		moveRight(window, pen);
//		moveDown(window, pen);
//	}
//	public static void moveRight(DrawingPanel window, Graphics pen) {
//		Random rand = new Random();
//		int x= rand.nextInt(800)+1, y = rand.nextInt(800)+1, d = 50;
//		if(x < window.getWidth()) {
//			while((x+d) <= window.getWidth() || (y+d) <= window.getHeight()) {
//				pen.setColor(Color.GRAY);
//				pen.fillOval(x, y, d, d);
//				x += d/2;
//				y += d/2;
//				window.sleep(50);
//				window.clear();
//			}
//		}
//		else {
//			while(x == 0 || y == 0) {
//				pen.setColor(Color.GRAY);
//				pen.fillOval(x, y, d, d);
//				x -= d/2;
//				y -= d/2;
//				window.sleep(50);
//				window.clear();
//			}
//		}
//	}
//	public static void moveDown(DrawingPanel window, Graphics pen) {
//		int y = 0, d = 50, x= window.getWidth()-d;
//		while(y < window.getHeight()) {
//			pen.setColor(Color.GRAY);
//			pen.fillOval(x, y, d, d);
//			
//			y += d/2;
//			window.sleep(20);
//			window.clear();
//		}
//	}

import java.awt.*;

public class Graphics_demo{
	
	public static void main(String [] args) {
		DrawingPanel panel = new DrawingPanel(800,800);
		Graphics g = panel.getGraphics();
		ballroll(panel, g);		
	}
	
	private static void ballroll(DrawingPanel panel, Graphics g) {
		//draw and roll the ball now
		g.setColor(Color.RED);
		int x = 115, y = 110, direction=1;
		while(y<670){//loop that runs just enough number of times..needs tweaking
			drawBox(g);
			g.fillOval(x, y, 50, 50);
			if (x==640){
				y+=60;
				direction *= -1;
			}
			else if (x < 115){
				direction *= -1;
				y+=60;
			}
			x +=direction*15;
			//System.out.println(x);
			panel.sleep(80);
			if(y<670){
				panel.clear();
			}
			
		}
		panel.sleep(800);
	}

	private static void drawBox(Graphics g) {
		//draw box
		g.drawRect(100, 100, 600, 600);
		//draw bumpers and drains
		int gap = 60;
		int y = 100;
		for (int i=1; i<=5; i++){
			y+=gap;
			g.drawLine(100, y, 700-gap, y);
			y+=gap;
			g.drawLine(100+gap, y, 700, y);
		}
	}
}

}
